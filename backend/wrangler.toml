name = "runcrew-backend"
main = "src/index.js"
compatibility_date = "2024-11-20"

[vars]
# JWT
JWT_ISSUER   = "runcrew.app"
JWT_AUDIENCE = "runcrew-users"
AUTH_SECRET  = "3249a0d73ac68118509d6dabdade7cdad5c80f08e43c6be3cda06471ec495cbd"

# Supabase
SUPABASE_URL = "https://yxfkpddrakhnccpqttzl.supabase.co"

# CORS (오리진만)
CORS_ORIGINS = "https://popple1101.github.io"

# 프론트 기본 복귀 주소(폴백)
APP_REDIRECT_DEFAULT = "https://popple1101.github.io/runningcrew/app"

# 콜백(프로덕션)
KAKAO_REDIRECT_URI = "https://runcrew-backend.popple1101.workers.dev/auth/kakao/callback"
NAVER_REDIRECT_URI = "https://runcrew-backend.popple1101.workers.dev/auth/naver/callback"

# ── 로컬 전용 env ──
[env.dev.vars]
KAKAO_REDIRECT_URI = "http://localhost:8787/auth/kakao/callback"
NAVER_REDIRECT_URI = "http://localhost:8787/auth/naver/callback"
KAKAO_CLIENT_ID=13586043acea1473bd2a63898f8b9043
KAKAO_CLIENT_SECRET=ihaDlSbWcfLCSjGQM2NFFK3Lk55gYOQX